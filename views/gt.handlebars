<!--This script initializes the Bootstrap tooltips on the page-->
<script defer src="/js/bootstrapTooltips.js"></script>
<!--This script is for the page-specific js needed to run the page-->
<script defer src="/js/globalTournaments.js"></script>

<h1 class="text-center d-none d-sm-block">Global Tournaments</h1>
<h2 class="text-center d-block d-sm-none">Global Tournaments</h2>

{{#each gtInfo.items}}
  <div class="card border-primary mx-2 mx-md-4 mb-4" style="background-color: ghostwhite;">
    <div class="card-header">
      <h5 class="font-weight-bold mb-1">{{title}}</h5>
      <h6 class="font-weight-light font-italic mb-0">{{tag}}</h6>
    </div>
    <div class="card-body px-0">
      <div class="row justify-content-around mx-1">
        <div class="mb-3 mx-2" style="height: 40px;">
          <img src="/images/misc/svg/clock.svg" class="mr-1" width="40px" height="40px" alt="clock" data-bs-toggle="tooltip" data-bs-placement="top" title="Time">
          <span class="d-inline-block" style="line-height: 40px;"><strong>{{readableDate startTime}}</strong> to <strong>{{readableDate endTime}}</strong></span>
        </div>
        <div class="mb-3 mx-2" style="height: 40px;">
          <!--Material Design Icon: https://materialdesignicons.com/icon/sword-cross-->
          <!--License: https://github.com/Templarian/MaterialDesign/blob/master/LICENSE-->
          <svg width="40px" height="40px" viewBox="0 0 24 24" class="mr-1" data-bs-toggle="tooltip" data-bs-placement="top" title="Gamemode">
            <path fill="#6c757d" d="M6.2,2.44L18.1,14.34L20.22,12.22L21.63,13.63L19.16,16.1L22.34,19.28C22.73,19.67 22.73,20.3 22.34,20.69L21.63,21.4C21.24,21.79 20.61,21.79 20.22,21.4L17,18.23L14.56,20.7L13.15,19.29L15.27,17.17L3.37,5.27V2.44H6.2M15.89,10L20.63,5.26V2.44H17.8L13.06,7.18L15.89,10M10.94,15L8.11,12.13L5.9,14.34L3.78,12.22L2.37,13.63L4.84,16.1L1.66,19.29C1.27,19.68 1.27,20.31 1.66,20.7L2.37,21.41C2.76,21.8 3.39,21.8 3.78,21.41L7,18.23L9.44,20.7L10.85,19.29L8.73,17.17L10.94,15Z" />
          </svg>
          <span class="d-inline-block" style="line-height: 40px;"><strong>{{gameModeName gameMode.id ../gameModeJson ""}}</strong></span>
        </div>
        <div class="mb-3 mx-2" style="height: 40px;">
          <!--Bootstrap Icon: https://icons.getbootstrap.com/icons/x/-->
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#dc3545" class="mr-1" viewBox="0 0 16 16" data-bs-toggle="tooltip" data-bs-placement="top" title="Max Losses">
            <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708z"/>
          </svg>
          <p class="d-inline-block font-weight-bold" style="line-height: 40px;">{{maxLosses}}</p>
        </div>
        <div class="mb-3 mx-2" style="height: 40px;">
          <!--Bootstrap Icon: https://icons.getbootstrap.com/icons/patch-minus-fill/-->
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="#6f42c1" class="bi bi-patch-minus-fill" viewBox="0 0 16 16" data-bs-toggle="tooltip" data-bs-placement="top" title="Level Cap">
            <path d="M10.067.87a2.89 2.89 0 0 0-4.134 0l-.622.638-.89-.011a2.89 2.89 0 0 0-2.924 2.924l.01.89-.636.622a2.89 2.89 0 0 0 0 4.134l.637.622-.011.89a2.89 2.89 0 0 0 2.924 2.924l.89-.01.622.636a2.89 2.89 0 0 0 4.134 0l.622-.637.89.011a2.89 2.89 0 0 0 2.924-2.924l-.01-.89.636-.622a2.89 2.89 0 0 0 0-4.134l-.637-.622.011-.89a2.89 2.89 0 0 0-2.924-2.924l-.89.01-.622-.636zM6 7.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1 0-1z"/>
          </svg>
          <p class="d-inline-block font-weight-bold" style="line-height: 40px;">{{tournamentLevel}}</p>
        </div>
        <div class="mb-3 mx-2" style="height: 40px;">
          <img src="/images/misc/webp/exp_icon.webp" width="40" height="40" data-bs-toggle="tooltip" data-bs-placement="top" title="Minimum Experience Level" alt="Experience Icon">
          <p class="d-inline-block font-weight-bold" style="line-height: 40px;">{{minExpLevel}}</p>
        </div>
      </div>
      <div class="accordion mt-3 mx-md-2 mx-xl-5" id="infoAccordion">
        <div class="card" style="background-color: #fef">
          <div class="card-header" id="freeTierRewardsHeader" style="background-color: #eef;">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-left text-decoration-none" type="button" data-toggle="collapse" data-target="#freeTierRewards" aria-expanded="false" aria-controls="freeTie">
                Free Tier Rewards
              </button>
            </h2>
          </div>
          <div id="freeTierRewards" class="collapse" aria-labelledby="freeTierRewardsHeader" data-parent="#infoAccordion">
            <div class="card-body">
              <div class="row justify-content-around">
                {{#each freeTierRewards}}
                  <div class="card border-info mx-1 my-2" style="background-color: #efe; width: 140px;">
                    <div class="card-header" style="background-color: #eee;">
                      <h5 class="font-weight-bold text-center mb-0">Wins: {{wins}}</h5>
                    </div>
                    <div class="card-body row justify-content-center">
                      {{#if amount}}
                        {{!-- If there is an 'amount' property, then display it--}}
                        <img src="{{getGtTierPicture this}}" alt="{{getGtTierPictureAltText this}}" class="mb-1" width="50%">
                        <h4 class="text-center" style="width: 100%">x{{amount}}</h4>
                      {{else}}
                        {{!-- No 'amount' property means that it is a chest, so just display x1--}}
                        <img src="{{getGtTierPicture this}}" alt="{{getGtTierPictureAltText this}}" class="mb-1" width="70%">
                        <h4 class="text-center" style="width: 100%">x1</h4>
                      {{/if}}
                    </div>
                  </div>
                {{/each}}
              </div>
            </div>
          </div>
        </div>
        <div class="card" style="background-color: #fef">
          <div class="card-header" id="bonusTierRewardsHeader" style="background-color: #eef;">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-left text-decoration-none" type="button" data-toggle="collapse" data-target="#bonusTierRewards" aria-expanded="false" aria-controls="bonusTierRewards">
                Bonus Tier Rewards
              </button>
            </h2>
          </div>
          <div id="bonusTierRewards" class="collapse" aria-labelledby="bonusTierRewardsHeader" data-parent="#infoAccordion">
            <div class="card-body">
              <div class="row justify-content-around">
                {{#each milestoneRewards}}
                  <div class="card border-info mx-1 my-2" style="background-color: #efe; width: 140px;">
                    <div class="card-header" style="background-color: #eee;">
                      <h5 class="font-weight-bold text-center mb-0">Wins: {{wins}}</h5>
                    </div>
                    <div class="card-body row justify-content-center">
                      {{#if amount}}
                        {{!-- If there is an 'amount' property, then display it--}}
                        <img src="{{getGtTierPicture this}}" alt="{{getGtTierPictureAltText this}}" class="mb-1" width="50%" height="50%">
                        <h4 class="text-center" style="width: 100%">x{{amount}}</h4>
                      {{else}}
                        {{!-- No 'amount' property means that it is a chest, so just display x1--}}
                        <img src="{{getGtTierPicture this}}" alt="{{getGtTierPictureAltText this}}" class="mb-1" width="70%">
                        <h4 class="text-center" style="width: 100%">x1</h4>
                      {{/if}}
                    </div>
                  </div>
                {{/each}}
              </div>
            </div>
          </div>
        </div>
        <div class="card" style="background-color: #fef">
          <div class="card-header" id="gtLeaderboardHeader" style="background-color: #eef;">
            <h2 class="mb-0">
              <button class="btn btn-link btn-block text-left text-decoration-none" type="button" data-toggle="collapse" data-target="#gtLeaderboardCard" aria-expanded="false" aria-controls="gtLeaderboardCard">
                Leaderboards
              </button>
            </h2>
          </div>
          <div id="gtLeaderboardCard" class="collapse" aria-labelledby="gtLeaderboardHeader" data-parent="#infoAccordion">
            <div id="leaderboardDiv" class="card-body px-1 px-md-2 px-lg-4">
              <btn class="btn btn-info btn-block text-center" onclick="loadLeaderboard(this)">
                <div class="spinner-border d-none mr-3" role="status" style="color: black;">
                  <span class="sr-only">Loading...</span>
                </div>
                <h3 class="my-1 d-inline-block">Load Leaderboard</h3>
                <p class="d-none">{{removeFirstCharacter tag}}</p>
              </btn>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{{/each}}